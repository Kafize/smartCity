<view><u-navbar style="z-index:3;" vue-id="4585cc35-1" bgColor="{{scrollTop<45?'transparent':'#f4f4f5'}}" title="{{scrollTop<45?'':shopDetail.name}}" leftIconColor="{{scrollTop<45?'#fff':'#000'}}" autoBack="{{true}}" border="{{scrollTop>45}}" bind:__l="__l" vue-slots="{{['right']}}"><view class="u-nav-slot" slot="right" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e"><u-icon vue-id="{{('4585cc35-2')+','+('4585cc35-1')}}" color="{{scrollTop<45?'#fff':isCollect?'#f1a532':'#000'}}" name="{{isCollect?'star-fill':'star'}}" size="22" bind:__l="__l"></u-icon></view></u-navbar><view class="shop-detail-container"><view class=" " style="margin:1rem;"><view><u--text vue-id="4585cc35-3" text="{{shopDetail.name}}" size="22" bold="{{true}}" bind:__l="__l"></u--text><view class="takeaway-article"><view class="takeaway-article-flex"><view><label class="rate-font _span">{{shopDetail.score}}</label><view class="rate-font _small" style="font-size:.7rem;">分</view></view><view><label class="_span">{{'月销'+shopDetail.saleQuantity+"+"}}</label></view><view><label class="_span">{{'人均'+shopDetail.avgCost+'￥'}}</label></view><view><label class="_span">{{'配送约'+shopDetail.deliveryTime+'分钟'}}</label></view><view><label class="_span">{{shopDetail.distance>1000?shopDetail.distance/1000+'km':shopDetail.distance+"m"}}</label></view></view></view><view><u--text vue-id="4585cc35-4" text="{{shopDetail.introduction}}" size="12" color="#606266" bind:__l="__l"></u--text></view><view><view style="padding-bottom:80rpx;"><block wx:for="{{food}}" wx:for-item="item" wx:for-index="__i0__"><u-row class="takeaway-item" vue-id="{{'4585cc35-5-'+__i0__}}" gutter="10" justify="top" data-event-opts="{{[['^click',[['']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('4585cc35-6-'+__i0__)+','+('4585cc35-5-'+__i0__)}}" span="4" bind:__l="__l" vue-slots="{{['default']}}"><view><u--image vue-id="{{('4585cc35-7-'+__i0__)+','+('4585cc35-6-'+__i0__)}}" src="{{$url+item.imgUrl}}" width="100%" mode="aspectFill" radius="5px" height="110px" bind:__l="__l"></u--image></view></u-col><u-col vue-id="{{('4585cc35-8-'+__i0__)+','+('4585cc35-5-'+__i0__)}}" span="8" bind:__l="__l" vue-slots="{{['default']}}"><view><u--text vue-id="{{('4585cc35-9-'+__i0__)+','+('4585cc35-8-'+__i0__)}}" text="{{item.name}}" color="#303133" bold="{{true}}" lines="1" bind:__l="__l"></u--text><view class="takeaway-article"><view class="takeaway-article-flex"><view><label class="_span">{{'月销'+item.saleQuantity+"+"}}</label></view><view><label class="_span">{{"%"+item.favorRate+"好评"}}</label></view></view></view><view><u--text vue-id="{{('4585cc35-10-'+__i0__)+','+('4585cc35-8-'+__i0__)}}" text="{{item.detail}}" size="12" color="#909399" bind:__l="__l"></u--text></view><view class="_br"></view><u-row vue-id="{{('4585cc35-11-'+__i0__)+','+('4585cc35-8-'+__i0__)}}" justify="space-between" gutter="10" bind:__l="__l" vue-slots="{{['default']}}"><u-col class="money-font" vue-id="{{('4585cc35-12-'+__i0__)+','+('4585cc35-11-'+__i0__)}}" span="3" bind:__l="__l" vue-slots="{{['default']}}"><view><view style="font-size:.8rem;" class="_small">￥</view><label class="_span">{{item.price}}</label></view></u-col><u-col style="align-items:flex-end;" vue-id="{{('4585cc35-13-'+__i0__)+','+('4585cc35-11-'+__i0__)}}" span="4" bind:__l="__l" vue-slots="{{['default']}}"><u-row vue-id="{{('4585cc35-14-'+__i0__)+','+('4585cc35-13-'+__i0__)}}" gutter="10" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({item})}}" hidden="{{!(item.remark)}}" class="add-button minus-button" style="background-color:#fff;" bindtap="__e"><u--text vue-id="{{('4585cc35-15-'+__i0__)+','+('4585cc35-14-'+__i0__)}}" text="➖" size="10" align="center" color="#000" bind:__l="__l"></u--text></view><view hidden="{{!(item.remark)}}" style="padding:0 .5rem;"><u--text vue-id="{{('4585cc35-16-'+__i0__)+','+('4585cc35-14-'+__i0__)}}" text="{{item.remark}}" bind:__l="__l"></u--text></view><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" data-event-params="{{({item})}}" class="add-button" bindtap="__e"><u--text vue-id="{{('4585cc35-17-'+__i0__)+','+('4585cc35-14-'+__i0__)}}" text="➕" size="10" align="center" color="#000" bind:__l="__l"></u--text></view></u-row></u-col></u-row></view></u-col></u-row></block></view></view></view></view></view><view class="Overlay"><view></view><u-image vue-id="4585cc35-18" src="{{$url+shopDetail.imgUrl}}" width="100%" height="130px" bind:__l="__l"></u-image></view><view style="display:flex;justify-content:center;"><u-row class="tabbar" vue-id="4585cc35-19" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('4585cc35-20')+','+('4585cc35-19')}}" span="2" bind:__l="__l"></u-col><u-col vue-id="{{('4585cc35-21')+','+('4585cc35-19')}}" span="6" bind:__l="__l" vue-slots="{{['default']}}"><view><view style="font-size:.8rem;" class="_small">￥</view><label class="_span">{{$root.g0}}</label></view><view><label style="font-size:.8rem;" class="_span">预计另需2.0元配送费</label></view></u-col><u-col class="bg-yellow" vue-id="{{('4585cc35-22')+','+('4585cc35-19')}}" span="4" justify="center" textAlign="center" data-event-opts="{{[['^click',[['goPay']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><view><label class="_span">{{upopupShow?"立即支付":"去结算"}}</label></view></u-col></u-row></view><u-popup vue-id="4585cc35-23" show="{{addressShow}}" closeOnClickOverlay="{{false}}" overlayStyle="{{$root.a0}}" round="35rpx" z-index="10089" data-event-opts="{{[['^close',[['e3']]],['^open',[['e4']]]]}}" bind:close="__e" bind:open="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="address-popup"><u--text vue-id="{{('4585cc35-24')+','+('4585cc35-23')}}" text="选择地址" size="20" bind:__l="__l"></u--text><view class="_br"></view><view style="height:650rpx;overflow:auto;"><block wx:for="{{addressList}}" wx:for-item="item" wx:for-index="index"><view data-event-opts="{{[['tap',[['e5',['$event']]]]]}}" data-event-params="{{({index})}}" class="{{['border-yellow',(addressListIndex!=index)?'border-white':'']}}" style="margin-bottom:.5rem;" bindtap="__e"><view><u-row vue-id="{{('4585cc35-25-'+index)+','+('4585cc35-23')}}" justify="end" align="center" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('4585cc35-26-'+index)+','+('4585cc35-25-'+index)}}" span="12" bind:__l="__l" vue-slots="{{['default']}}"><view style="font-size:.9rem;padding-bottom:10rpx;" class="_p">{{item.label+' '+item.name+' '+item.phone}}</view><view class="_p"></view><view class="_p">{{item.addressDetail}}</view></u-col></u-row></view></view></block></view><view class="_br"></view><view><u-button style="margin-bottom:.5rem;" vue-id="{{('4585cc35-27')+','+('4585cc35-23')}}" text="确认地址" type="warning" plain="{{true}}" data-event-opts="{{[['^click',[['e6']]]]}}" bind:click="__e" bind:__l="__l"></u-button><u-button vue-id="{{('4585cc35-28')+','+('4585cc35-23')}}" text="添加地址" type="warning" data-event-opts="{{[['^click',[['goAddAddress']]]]}}" bind:click="__e" bind:__l="__l"></u-button></view></view></u-popup><u-popup vue-id="4585cc35-29" show="{{upopupShow}}" zIndex="10070" round="35rpx" data-event-opts="{{[['^close',[['e7']]],['^open',[['e8']]]]}}" bind:close="__e" bind:open="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="u-popup-container"><view class="u-popup-fixed"><view style="margin:1rem;"><view data-event-opts="{{[['tap',[['e9',['$event']]]]]}}" bindtap="__e"><u-row vue-id="{{('4585cc35-30')+','+('4585cc35-29')}}" justify="end" align="center" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('4585cc35-31')+','+('4585cc35-30')}}" span="8" bind:__l="__l" vue-slots="{{['default']}}"><u--text vue-id="{{('4585cc35-32')+','+('4585cc35-31')}}" text="{{address.addressDetail}}" size="20" bind:__l="__l"></u--text><u--text vue-id="{{('4585cc35-33')+','+('4585cc35-31')}}" text="{{address.label+' '+address.name+' '+address.phone}}" color="#212526" size="12" bind:__l="__l"></u--text></u-col><u-col style="align-items:flex-end;" vue-id="{{('4585cc35-34')+','+('4585cc35-30')}}" span="4" justify="end" textAlign="right" bind:__l="__l" vue-slots="{{['default']}}"><u-icon vue-id="{{('4585cc35-35')+','+('4585cc35-34')}}" name="arrow-right" color="#212526" size="12" bind:__l="__l"></u-icon></u-col></u-row></view><view class="_br"></view><view><view data-event-opts="{{[['tap',[['e10',['$event']]]]]}}" class="{{['border-yellow',(deliverySwitch)?'border-white':'']}}" style="margin-bottom:.5rem;" bindtap="__e"><label style="padding-right:1rem;" class="_span">立即配送</label><label class="_span">{{"预计"+$root.m0+"后送达"}}</label></view><view data-event-opts="{{[['tap',[['e11',['$event']]]]]}}" class="{{['border-yellow',(!deliverySwitch)?'border-white':'']}}" bindtap="__e"><label style="padding-right:1rem;" class="_span">预约配送</label><label class="_span">选取时间</label></view></view><view class="_br"></view><u-divider vue-id="{{('4585cc35-36')+','+('4585cc35-29')}}" text="分割线" bind:__l="__l"></u-divider></view></view><view class="_br"></view><view style="margin-top:440rpx;padding:1rem;"><view><u--text vue-id="{{('4585cc35-37')+','+('4585cc35-29')}}" text="{{shopDetail.name}}" size="20" bind:__l="__l"></u--text><u--text vue-id="{{('4585cc35-38')+','+('4585cc35-29')}}" text="{{shopDetail.introduction}}" size="16" color="#606266" bind:__l="__l"></u--text></view><view><block wx:for="{{foodPayArray}}" wx:for-item="item" wx:for-index="__i1__"><u-row class="takeaway-item" vue-id="{{('4585cc35-39-'+__i1__)+','+('4585cc35-29')}}" gutter="10" justify="top" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('4585cc35-40-'+__i1__)+','+('4585cc35-39-'+__i1__)}}" span="4" bind:__l="__l" vue-slots="{{['default']}}"><view><u--image vue-id="{{('4585cc35-41-'+__i1__)+','+('4585cc35-40-'+__i1__)}}" src="{{$url+item.imgUrl}}" width="100%" mode="aspectFill" radius="5px" height="110px" bind:__l="__l"></u--image></view></u-col><u-col vue-id="{{('4585cc35-42-'+__i1__)+','+('4585cc35-39-'+__i1__)}}" span="8" bind:__l="__l" vue-slots="{{['default']}}"><view><u--text vue-id="{{('4585cc35-43-'+__i1__)+','+('4585cc35-42-'+__i1__)}}" text="{{item.name}}" color="#303133" bold="{{true}}" lines="1" bind:__l="__l"></u--text><view class="takeaway-article"><view class="takeaway-article-flex"><view><label class="_span">{{'月销'+item.saleQuantity+"+"}}</label></view><view><label class="_span">{{"%"+item.favorRate+"好评"}}</label></view></view></view><view><u--text vue-id="{{('4585cc35-44-'+__i1__)+','+('4585cc35-42-'+__i1__)}}" text="{{item.detail}}" size="12" color="#909399" bind:__l="__l"></u--text></view><view class="_br"></view><u-row vue-id="{{('4585cc35-45-'+__i1__)+','+('4585cc35-42-'+__i1__)}}" justify="space-between" gutter="10" bind:__l="__l" vue-slots="{{['default']}}"><u-col class="money-font" vue-id="{{('4585cc35-46-'+__i1__)+','+('4585cc35-45-'+__i1__)}}" span="3" bind:__l="__l" vue-slots="{{['default']}}"><view><view style="font-size:.8rem;" class="_small">￥</view><label class="_span">{{item.price*item.remark}}</label></view></u-col><u-col vue-id="{{('4585cc35-47-'+__i1__)+','+('4585cc35-45-'+__i1__)}}" span="4" bind:__l="__l" vue-slots="{{['default']}}"><u--text vue-id="{{('4585cc35-48-'+__i1__)+','+('4585cc35-47-'+__i1__)}}" text="{{'×'+item.remark}}" bind:__l="__l"></u--text></u-col></u-row></view></u-col></u-row></block></view></view></view></u-popup><u-modal vue-id="4585cc35-49" show="{{modalShow}}" title="是否确认支付" showCancelButton="{{true}}" asyncClose="{{true}}" data-event-opts="{{[['^confirm',[['getPayment']]],['^cancel',[['e12']]]]}}" bind:confirm="__e" bind:cancel="__e" bind:__l="__l"></u-modal></view>